<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Horsepower vs Fuel Efficiency – Narrative Visualization</title>
    <style>
        /* Basic page styling */
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            line-height: 1.5;
            background-color: #f9f9f9;
        }
        /* Introductory text styling */
        #intro {
            max-width: 800px;
            margin: 20px auto;
            font-size: 15px;
            color: #333;
            line-height: 1.6;
        }
        #vis {
            width: 100%;
            height: 550px;
        }
        #controls {
            text-align: center;
            margin: 20px;
        }
        button {
            margin: 0 10px;
            padding: 8px 14px;
            font-size: 14px;
            background-color: #1565c0;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        button:disabled {
            background-color: #90a4ae;
            cursor: default;
        }
        #sceneIndicator {
            font-size: 16px;
            font-weight: bold;
        }
        .tooltip {
            position: absolute;
            background-color: rgba(0, 0, 0, 0.8);
            color: #fff;
            padding: 6px;
            border-radius: 4px;
            font-size: 12px;
            pointer-events: none;
            opacity: 0;
        }
        .annotation {
            font-size: 14px;
            font-weight: bold;
            fill: #333;
        }
    </style>
</head>
<body>
    <div id="intro">
        <p>
            This interactive narrative explores the relationship between vehicle
            horsepower and fuel efficiency for a handful of 2017 model cars.
            We begin by revealing the overall trend that greater power comes
            at the expense of miles per gallon, then spotlight an extreme
            performance outlier and an exceptionally efficient hybrid. In the
            final scene you can use the dropdown control to highlight vehicles
            by type and hover over points for details, allowing you to
            compare categories and discover your own insights.
        </p>
    </div>
    <div id="vis"></div>
    <div id="controls">
        <!-- Filter container is hidden by default; it becomes visible in the exploratory scene. -->
        <label id="typeFilterContainer" style="display:none; margin-right:10px; font-weight:600;">
            Highlight by type:
            <select id="typeFilter">
                <option value="All">All</option>
                <option value="Hybrid">Hybrid</option>
                <option value="Compact">Compact</option>
                <option value="Sedan">Sedan</option>
                <option value="Truck">Truck</option>
                <option value="Sports">Sports</option>
                <option value="SUV">SUV</option>
            </select>
        </label>
        <button id="prevBtn">Previous</button>
        <span id="sceneIndicator"></span>
        <button id="nextBtn">Next</button>
    </div>
    <!-- Load D3 from jsDelivr. Although the sandbox restricts programmatic downloads, the
         browser is still allowed to fetch external scripts. If this CDN is blocked in
         your environment you may replace it with another trusted mirror. -->
    <script src="https://cdn.jsdelivr.net/npm/d3@7/dist/d3.min.js"></script>
    <script src="script.js"></script>
</body>
</html>